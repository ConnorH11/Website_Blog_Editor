<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Editor | Connor Horning</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="css/editor.css">
</head>

<body>
    <!-- Navbar removed for cleaner interface
    <nav class="navbar">
        <div class="nav-container">
            <a href="https://connorhorning.com" class="logo">CH.</a>

            <div class="desktop-menu">
                <a href="https://connorhorning.com#home" class="nav-link">Home</a>
                <a href="https://connorhorning.com#projects" class="nav-link">Projects</a>
                <a href="https://connorhorning.com#articles" class="nav-link">Articles</a>
                <a href="https://connorhorning.com#experience" class="nav-link">Resume</a>
                <a href="https://connorhorning.com#about" class="nav-link">About</a>
                <a href="https://connorhorning.com#contact" class="nav-link">Contact</a>
            </div>

            <div class="mobile-toggle" id="mobile-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
    -->

    <!-- Main Editor Container -->
    <main class="editor-container">
        <!-- Metadata Panel -->
        <section class="metadata-panel">
            <h2>Post Details</h2>

            <!-- DOCX Import Section (Recommended) -->
            <div class="import-section docx-import-section">
                <label>Import from Word <span class="recommended-badge">Recommended</span></label>
                <div id="docx-drop-zone" class="drop-zone docx-drop-zone">
                    <span class="drop-icon">üìù</span>
                    <span class="drop-text">Drop .docx here or click to browse</span>
                    <input type="file" id="docx-input" accept=".docx,.doc" hidden>
                </div>
                <div id="docx-progress" class="import-progress" style="display: none;">
                    <div class="progress-bar-container">
                        <div id="docx-progress-bar" class="progress-bar"></div>
                    </div>
                    <span id="docx-progress-text">Converting...</span>
                </div>
            </div>

            <!-- PDF Import Section (Fallback) -->
            <div class="import-section pdf-import-section">
                <label>Import from PDF <span class="fallback-badge">Basic</span></label>
                <div id="pdf-drop-zone" class="drop-zone pdf-drop-zone">
                    <span class="drop-icon">üìÑ</span>
                    <span class="drop-text">Drop PDF here or click to browse</span>
                    <input type="file" id="pdf-input" accept=".pdf" hidden>
                </div>
                <div id="pdf-progress" class="import-progress" style="display: none;">
                    <div class="progress-bar-container">
                        <div id="pdf-progress-bar" class="progress-bar"></div>
                    </div>
                    <span id="pdf-progress-text">Processing...</span>
                </div>
            </div>

            <div class="divider"></div>

            <div class="form-group">
                <label for="post-title">Title</label>
                <input type="text" id="post-title" placeholder="My Awesome Post">
            </div>
            <div class="form-group">
                <label for="post-date">Date</label>
                <input type="date" id="post-date">
                <button type="button" id="today-btn" class="btn-smart-small" title="Set to today">üìÖ Today</button>
            </div>
            <div class="form-group">
                <label for="post-description">Description <span id="desc-counter"
                        class="char-counter">0/155</span></label>
                <textarea id="post-description" rows="2" placeholder="Brief description for index page..."
                    maxlength="200"></textarea>
            </div>
            <div class="form-group project-only" id="cover-image-group" style="display: none;">
                <label for="cover-image">Cover Image URL</label>
                <input type="text" id="cover-image" placeholder="https://...">
            </div>
            <div class="form-group project-only" id="github-url-group" style="display: none;">
                <label for="github-url">GitHub URL (optional)</label>
                <input type="text" id="github-url" placeholder="https://github.com/...">
            </div>
        </section>

        <!-- Editor Panel -->
        <section class="editor-panel">
            <div class="toolbar">
                <!-- Row 1: All Formatting Actions -->
                <div class="toolbar-row">
                    <div class="toolbar-group">
                        <button type="button" data-action="bold" title="Bold (Ctrl+B)"><strong>B</strong></button>
                        <button type="button" data-action="italic" title="Italic (Ctrl+I)"><em>I</em></button>
                        <button type="button" data-action="code" title="Inline Code">&lt;/&gt;</button>
                        <button type="button" data-action="strikethrough" title="Strikethrough">~~S~~</button>
                    </div>
                    <div class="toolbar-group">
                        <button type="button" data-action="h1" title="Heading 1">H1</button>
                        <button type="button" data-action="h2" title="Heading 2">H2</button>
                        <button type="button" data-action="h3" title="Heading 3">H3</button>
                    </div>
                    <div class="toolbar-group">
                        <button type="button" data-action="ul" title="Bullet List">‚Ä¢ List</button>
                        <button type="button" data-action="ol" title="Numbered List">1. List</button>
                        <button type="button" data-action="quote" title="Blockquote">" Quote</button>
                    </div>
                    <div class="toolbar-group">
                        <button type="button" data-action="link" title="Insert Link">üîó Link</button>
                        <button type="button" data-action="image" title="Insert Image">üñºÔ∏è Image</button>
                        <button type="button" data-action="codeblock" title="Code Block">{ } Block</button>
                        <button type="button" data-action="table" title="Insert Table">üìä Table</button>
                        <button type="button" data-action="hr" title="Horizontal Rule">‚îÄ‚îÄ‚îÄ</button>
                    </div>
                </div>

                <!-- Row 2: History & Stats -->
                <div class="toolbar-row">
                    <div class="toolbar-group">
                        <button type="button" id="undo-btn" title="Undo (Ctrl+Z)">‚Ü∂</button>
                        <button type="button" id="redo-btn" title="Redo (Ctrl+Y)">‚Ü∑</button>
                    </div>
                    <div class="toolbar-group">
                        <span id="reading-time" class="stat-display">üìñ 0 min read</span>
                        <button type="button" id="word-count" class="stat-display">0 words / 0 chars</button>
                        <span id="autosave-indicator" class="stat-display">üíæ Saved</span>
                    </div>
                </div>

                <!-- Row 3: Utility Actions -->
                <div class="toolbar-row">
                    <div class="toolbar-group">
                        <button type="button" id="markdown-help" class="btn-help"
                            title="Markdown Cheatsheet (Shift+?)">üìñ Guide</button>
                        <button type="button" id="shortcuts-help" class="btn-help" title="Keyboard Shortcuts (?)">‚å®Ô∏è
                            Shortcuts</button>
                        <button type="button" id="generate-toc" class="btn-help" title="Generate Table of Contents">üìë
                            TOC</button>
                        <button type="button" id="collapse-images-btn" class="btn-collapse"
                            title="Collapse image data for easier editing">üñºÔ∏è Hide Images</button>
                        <button type="button" id="clear-editor" class="btn-clear" title="Clear all content">üóëÔ∏è
                            Clear</button>
                    </div>
                </div>
            </div>
            <textarea id="markdown-editor" placeholder="Write your post in Markdown...

# Example Heading

This is a paragraph with **bold** and *italic* text.

## Subheading

- Bullet point 1
- Bullet point 2

### Code Example

```bash
echo 'Hello World'
```

> This is a blockquote

[Link text](https://example.com)

![Image alt text](https://example.com/image.png)"></textarea>
        </section>

        <!-- Preview Panel -->
        <section class="preview-panel">
            <div class="preview-header">
                <h2>Live Preview</h2>
                <div class="preview-controls">
                    <button type="button" id="toggle-preview-style" title="Toggle connorhorning.com styling">üé®</button>
                </div>
            </div>
            <div class="preview-content" id="preview-content">
                <p class="preview-placeholder">Start typing to see your post preview...</p>
            </div>
        </section>
    </main>

    <!-- Export Panel -->
    <section class="export-panel">
        <div class="export-content">
            <div class="export-actions">
                <button type="button" id="download-html" class="btn-primary">
                    <span>üì•</span> Download HTML
                </button>
                <button type="button" id="download-markdown" class="btn-secondary">
                    <span>üìÑ</span> Download Markdown
                </button>
            </div>
            <div class="export-info">
                <p id="export-filename">Filename: <code>untitled.html</code></p>
            </div>
        </div>
    </section>

    <!-- Keyboard Shortcuts Modal -->
    <div id="shortcuts-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
                <button type="button" class="modal-close" id="close-shortcuts">√ó</button>
            </div>
            <div class="modal-body shortcuts-grid">
                <div class="shortcut-section">
                    <h4>Formatting</h4>
                    <div class="shortcut-item"><kbd>Ctrl</kbd> + <kbd>B</kbd> <span>Bold</span></div>
                    <div class="shortcut-item"><kbd>Ctrl</kbd> + <kbd>I</kbd> <span>Italic</span></div>
                    <div class="shortcut-item"><kbd>Ctrl</kbd> + <kbd>K</kbd> <span>Insert Link</span></div>
                    <div class="shortcut-item"><kbd>Tab</kbd> <span>Indent (4 spaces)</span></div>
                </div>
                <div class="shortcut-section">
                    <h4>Editor</h4>
                    <div class="shortcut-item"><kbd>Ctrl</kbd> + <kbd>Z</kbd> <span>Undo</span></div>
                    <div class="shortcut-item"><kbd>Ctrl</kbd> + <kbd>Y</kbd> <span>Redo</span></div>
                    <div class="shortcut-item"><kbd>?</kbd> <span>Show Shortcuts</span></div>
                    <div class="shortcut-item"><kbd>Shift</kbd> + <kbd>?</kbd> <span>Markdown Guide</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Markdown Cheatsheet Modal -->
    <div id="markdown-modal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìñ Markdown Cheatsheet</h3>
                <button type="button" class="modal-close" id="close-markdown">√ó</button>
            </div>
            <div class="modal-body markdown-guide">
                <div class="guide-section">
                    <h4>Headers</h4>
                    <code># H1</code><code>## H2</code><code>### H3</code>
                </div>
                <div class="guide-section">
                    <h4>Emphasis</h4>
                    <code>**bold**</code><code>*italic*</code><code>~~strikethrough~~</code>
                </div>
                <div class="guide-section">
                    <h4>Lists</h4>
                    <code>- Item</code><code>1. Item</code>
                </div>
                <div class="guide-section">
                    <h4>Links & Images</h4>
                    <code>[text](url)</code><code>![alt](url)</code>
                </div>
                <div class="guide-section">
                    <h4>Code</h4>
                    <code>`inline code`</code><code>```language<br>code block<br>```</code>
                </div>
                <div class="guide-section">
                    <h4>Other</h4>
                    <code>&gt; Quote</code><code>---</code>
                </div>
            </div>
        </div>
    </div>

    <!-- Snippet Preview Modal -->
    <div id="snippet-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Index Snippet</h3>
                <button type="button" class="modal-close" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Add this snippet to your <code>index.html</code> in the appropriate section:</p>
                <pre id="snippet-code"></pre>
                <button type="button" id="copy-snippet-btn" class="btn-primary">üìã Copy to Clipboard</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/preview.js"></script>
    <script src="js/export.js"></script>
    <script src="js/docx-converter.js"></script>
    <script src="js/pdf-converter.js"></script>
    <script src="js/app.js"></script>
</body>

</html>